# =============================================================================
# WatchLLM - Environment Variables
# =============================================================================
# Copy this file to `.env` and fill in the values.
# NEVER commit your .env file to git!
#
# For environment-specific templates, see: config/environments/
#   - development.env  (local development)
#   - staging.env      (pre-production testing)
#   - production.env   (live deployment)
# =============================================================================

# =============================================================================
# Environment
# =============================================================================
ENV=development                    # Options: development, staging, production
DEBUG=true                         # Enable debug mode (false in production)

# =============================================================================
# Database - ClickHouse
# =============================================================================
# Option 1: Local Docker
#   docker run -d --name clickhouse -p 8123:8123 -p 9000:9000 clickhouse/clickhouse-server
#
# Option 2: DigitalOcean Droplet ($6/mo with Student Pack)
#   Run: ./infra/deploy-clickhouse.sh
#
# Option 3: Managed Service
#   - Aiven (https://aiven.io) - Free tier available
#   - Tinybird (https://tinybird.co) - Free tier available

CLICKHOUSE_HOST=localhost          # REQUIRED: ClickHouse server hostname
CLICKHOUSE_PORT=9000               # REQUIRED: Native protocol port (not HTTP 8123)
CLICKHOUSE_USER=default            # REQUIRED: Database user
CLICKHOUSE_PASSWORD=               # REQUIRED in production: Database password
CLICKHOUSE_DATABASE=default        # REQUIRED: Database name

# =============================================================================
# Queue - Redis
# =============================================================================
# Option 1: Local Docker
#   docker run -d --name redis -p 6379:6379 redis:7
#
# Option 2: DigitalOcean Managed Redis ($7/mo dev tier)
#   Created automatically by App Platform
#
# Option 3: Upstash (https://upstash.com) - Free tier available

REDIS_URL=redis://redis:6379
QUEUE_MODE=redis                   # Options: redis, memory (for testing only)

# =============================================================================
# Authentication - Supabase
# =============================================================================
# Get free Supabase at: https://supabase.com
# Dashboard -> Settings -> API -> Project URL & API Keys

SUPABASE_URL=https://glkbfxvtpitkypzslmnf.supabase.co           # REQUIRED: Project URL
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdsa2JmeHZ0cGl0a3lwenNsbW5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MTM3NDYsImV4cCI6MjA4MDM4OTc0Nn0.Ty-TwKmT-YVPxD4groFKNwMDSkgJR_B4nAvt2_FlryI                       # REQUIRED: Anonymous (public) key
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdsa2JmeHZ0cGl0a3lwenNsbW5mIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDgxMzc0NiwiZXhwIjoyMDgwMzg5NzQ2fQ.RTY_CuJgSwtlTneTF3eyAvMojw9TWjDcax4PIFDnSlA             # REQUIRED: Service role key (secret!)
JWT_SECRET="u1Sy32g1Vv9gwECZYjCJnLyYYlO8/p3L4c82gKPvt+1WPXlF835fkhuoxehFM5atRlZxjaNNZtSf4LwKgS2FxA=="

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0                   # Listen on all interfaces
INGEST_API_PORT=8001               # Ingest API port
UI_BACKEND_PORT=8000               # UI Backend API port  
BILLING_PORT=8002                  # Billing service port

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# Admin API
# =============================================================================
# Used for manual tier upgrades via POST /api/v1/admin/upgrade-user
# Generate with: openssl rand -base64 32

ADMIN_API_KEY=Or00zjpuV0adFMilL8H5RYzVcgTI3uJnpu0RGGpaYFs

# =============================================================================
# Monitoring - Sentry
# =============================================================================
# Get free Sentry at: https://sentry.io
# Free tier: 5,000 errors/month - perfect for MVP
# Dashboard -> Settings -> Client Keys (DSN)

SENTRY_DSN=https://095f1763c918f95e0e17148512077aed@o4510351808135168.ingest.de.sentry.io/4510480379740240
SENTRY_ENVIRONMENT=development

# =============================================================================
# Monitoring - Datadog (Optional)
# =============================================================================
# Get API key from: https://app.datadoghq.com

DATADOG_ENABLED=true
DATADOG_API=a4f92c683b866367d9a03f94872f1498
DD_SERVICE=watchllm
DD_ENV=development
DD_VERSION=1.0.0

# =============================================================================
# Frontend - Vite Environment Variables
# =============================================================================
# These are embedded at build time (prefix with VITE_)

VITE_API_URL=http://localhost:8000                      # REQUIRED: Backend API URL
VITE_SUPABASE_URL=https://your-project.supabase.co      # REQUIRED: Same as SUPABASE_URL
VITE_SUPABASE_ANON_KEY=your-anon-key                    # REQUIRED: Same as SUPABASE_ANON_KEY
VITE_SENTRY_DSN=https://095f1763c918f95e0e17148512077aed@o4510351808135168.ingest.de.sentry.io/4510480379740240
VITE_SENTRY_ENVIRONMENT=development

# =============================================================================
# MongoDB - Primary Database
# =============================================================================

MONGO_URL="mongodb+srv://pranav:Pranav18@watchllm.puopiup.mongodb.net/?appName=WatchLLM"
MONGO_DB_NAME=whatllm

# =============================================================================
# Quick Start Checklist
# =============================================================================
# Minimum required for local development:
#   [ ] CLICKHOUSE_HOST (or use Docker)
#   [ ] REDIS_URL (or use Docker)
#   [ ] SUPABASE_URL
#   [ ] SUPABASE_ANON_KEY
#   [ ] SUPABASE_SERVICE_KEY
#   [ ] VITE_API_URL
#   [ ] VITE_SUPABASE_URL
#   [ ] VITE_SUPABASE_ANON_KEY
#
# Additional for production:
#   [ ] CLICKHOUSE_PASSWORD
#   [ ] ADMIN_API_KEY (strong, unique)
#   [ ] SENTRY_DSN (recommended)
#   [ ] ENV=production
#   [ ] DEBUG=false
# =============================================================================
